<!doctype html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>PoP</title>
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <!-- build:css styles/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="../bower_components/normalize-css/normalize.css" />
    <!-- endbower -->
    <!-- endbuild -->

    <!-- build:css styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <!-- endbuild -->

    <!-- build:js scripts/vendor/modernizr.js -->
    <script src="../bower_components/modernizr/modernizr.js"></script>
    <!-- endbuild -->
  </head> 
  <body>

    <script type='text/x-handlebars' data-template-name='application'>
      <header>
        <img class='logo' src = '../images/POP-logo.png'/>
      </header>

      <div class='wrapper'>
        <div class='sidebar'>
          <ul class='sidebar-list'>
            <li>{{#link-to 'goalsCreate'}}Create Goals Record{{/link-to}}</li>
            <li>{{#link-to 'clientsView'}}View Clients{{/link-to}}</li>
          </ul>
        </div>

          <h1 class='tools-title'>Mentor Tools</h1>
            <div class='content-container'>
              {{outlet}}
            </div>
      </div>

    </script>

    <script type='text/x-handlebars' data-template-name='goalsCreate'>
      <h2 class='inputGoals'>Client Form</h2>
        <div class='input-form'>
          <form>
            <div class='name-overall-goal-container'>
              <h3 class='sectioninfo'>Client Info</h3>
              {{input type="text" value=name placeholder='Name'}}
              {{textarea value=backStory cols="30" rows="3" placeholder="Enter client's backstory"}}
              {{textarea value=skillSet cols="30" rows="3" placeholder="Enter client's skillset"}}
              {{textarea value=passion cols="30" rows="3" placeholder="Enter client's passion"}}
              {{textarea value=marketNeeds cols="30" rows="3" placeholder='Enter market needs'}}
            </div>

                  <div class='short-goal-input'>
                    <h3 class='sectioninfo'>Client Goal</h3>
                    {{#each step in steps itemController='step'}}
                      <div class='new-goal-container'>
                        {{view Ember.Select
                          content=goalTitles
                          optionValuePath='content.value'
                          optionLabelPath='content.label'
                          value=step.selectedGoalTitle
                          prompt='Select goal'
                          class='selectGoal'
                          }}
                        {{#each shortGoal in step.shortGoals}}
                            {{input type='text' value=shortGoal.content placeholder='Task'}}
                            {{input type='date' value=shortGoal.date}}

                        {{/each}}
                      {{textarea value=step.selectedGoalNotes cols='30' rows='6' placeholder='Task Notes'}}
                      <button class='addRequirement' {{action "addShortGoal"}}>Add Task</button>
                    <button class='newGoalButton' {{action 'addStep'}}>Add New Goal</button>
                      </div>

                    {{/each}}
                  </div>

            <button class='submitButton' {{action 'createGoal'}}>Submit</button>
          </form>
        </div>

    </script>

    <script type='text/x-handlebars' data-template-name='goals/view'>
      <div class='goals-view-container'>
        <h2 class='client-view-header'>{{model.name}}'s Goals</h2>
          <div class='overall-goal'>
            <h4>{{model.name}}'s story:</h4>
            <p>{{model.backStory}}</p>
            <h4>{{model.name}}'s skillset:</h4>
            <p>{{model.skillSet}}</p>
            <h4>{{model.name}}'s passion:</h4>
            <p>{{model.passion}}</p>
            <h4>{{model.name}}'s market needs:</h4>
            <p>{{model.marketNeeds}}</p>
          </div>
          <div class='monthly-goals-container'>
            <form action="">
              {{#each step in model.steps}}
                <div class='monthly-goals'>
                  <h4>
                    {{step.selectedGoalTitle}}
                  </h4>
                  <h5>
                    {{step.selectedGoalNotes}}
                  </h5>
                    {{#each shortGoal in step.shortGoals}}
                      <li>
                        {{shortGoal.content}}
                        {{input type='checkbox' class='toggle' value='isComplete'}}
                      </li>
                    {{/each}}
                </div>
              {{/each}}
              <button {{action 'updateRequirements'}}>Submit</button>
            </form>

          </div>
      </div>
    </script>

    <script type='text/x-handlebars' data-template-name='clientsView'>

      <h2>Client Records</h2>
      {{#each}}
        {{#link-to 'goals.view' this class='client-link'}}
          {{name}}
        {{/link-to}}
      {{/each}}
    </script>

    <!-- build:js scripts/vendor.js -->
    <!-- bower:js -->
    <script src="../bower_components/jquery/dist/jquery.js"></script>
    <script src="../bower_components/handlebars/handlebars.js"></script>
    <script src="../bower_components/ember/ember.js"></script>
    <script src="../bower_components/ember-data/index.js"></script>
    <script src="../bower_components/firebase/firebase.js"></script>
    <script src="../bower_components/emberfire/dist/emberfire.js"></script>
    <!-- endbower -->
    <!-- endbuild -->

        <!-- build:js scripts/main.js -->
        <script src="js/application.js"></script>
        <script src="js/models/goal.js"></script>
        <script src="js/models/short_term_goal.js"></script>
        <script src="js/models/step.js"></script>
        <script src="js/controllers/goals_create_controller.js"></script>
        <script src="js/controllers/step_controller.js"></script>
        <script src="js/controllers/goals_view_controller.js"></script>
        <script src="js/router.js"></script>
        <!-- endbuild -->
</body>
</html>
